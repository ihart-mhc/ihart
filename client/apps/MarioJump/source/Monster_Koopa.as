package  {	import flash.display.MovieClip;	import flash.utils.Timer;	import flash.events.*;	public class Monster_Koopa extends MovieClip {				// home screen.		var screen:EnemyScreen;		var monsterIdx:int;				// timer. keeps track of where things are/allows us to animate position.		var timer:Timer;				// speed/direction (+ or -)		var speed:int = 1;				var frameDelayCount:int = 0;		var frameImg:Boolean = false;				var dead:Boolean = false;				public function Monster_Koopa(enemyScreen:EnemyScreen, idx:int, x:int, y:int, dir:int) {			stop();			screen = enemyScreen;			this.monsterIdx = idx;			this.x = x;			this.y = y;			speed = dir*speed;						if (speed > 0) {				this.gotoAndStop(3);			}						timer = new Timer(25);						timer.addEventListener(TimerEvent.TIMER, timerAnimator);						// start timer.			timer.start();		}				private function timerAnimator(e:TimerEvent):void {				this.x = this.x + speed;			if (frameDelayCount == 5) {				if (frameImg == false){					this.nextFrame();					frameImg = true;				} else {					this.prevFrame();					frameImg = false;				}				frameDelayCount = 0;			} else { 				++frameDelayCount;			}						// should we remove ourselves from the canvas?			if ( ( (speed < 0) && (this.x <= -50) ) || ((speed > 0) && (this.x >= 750)) ){				timer.stop();				screen.remove_Koopa(this);			}		}				public function monsterDestroyed():void {			// stop timer.			timer.stop();			timer.removeEventListener(TimerEvent.TIMER, timerAnimator);						//start new timer.			timer = new Timer(1000, 1);			timer.addEventListener(TimerEvent.TIMER_COMPLETE, doneAnimating);			timer.start();						dead = true;		}				public function doneAnimating(e:TimerEvent):void {			screen.remove_Koopa(this);		}				public function isDead():Boolean {			return dead;		}	}	}