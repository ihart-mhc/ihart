package ihart.pseudo{	import flash.display.MovieClip;    import flash.display.Sprite;    import flash.events.*;    import flash.net.XMLSocket;		/**	* CentroidDragPS	* @author Audrey St.John adapted by Cleo Schneider	* 01/19/09	* This is the most simple Server Spoofer	* click and drag the circle around on the screen and 	* send it across a server where the client echoes the movements of the 	* dragged MovieClip	**/    public class CentroidDragPS extends AbstractPseudoServer {		/**		* Fields		**/		private var m : MovieClip;		private var dragging : Boolean; // true if attached to mouse				/**		* Constructor		**/		public function CentroidDragPS(){			super();		}				/**		* Create the blobs to send coordinates 		* and widths across the server		**/		protected override function createBlobs():void{			dragging = false;			m = new Circle();			blobHolder.addChild(m);			m.x = w/2;			m.y = h/2;			m.addEventListener( MouseEvent.CLICK, dragDrop );			m.addEventListener( MouseEvent.MOUSE_MOVE, sendMoveData );		}				/**		* DragDrop		* When clicked, start the drag		**/		public function dragDrop( e : MouseEvent ) : void		{			if ( dragging )				m.stopDrag();			else				m.startDrag( true );			dragging = !dragging;		}				/**		* Send the x and y coordinates across as the mouse is moved		**/		public function sendMoveData( e : MouseEvent ) : void 		{			send( "1:0," + e.target.x.toString() + "Y" + e.target.y.toString() 				+ "W" + e.target.width.toString() + "H" + e.target.height.toString() + "T0;" );		}    }}