package {	import flash.display.*;	import flash.text.TextField;	import ihart.event.*;	import flash.events.*;		public class QuizViewController extends MovieClip {				//The QuizController object, which takes care of data retrevial for us.		var quizController:QuizController = new QuizController();		//create a cvManager		var cv_man : CVManager;				//All of our lovely buttons!		var button1:Button = new Button();		var button2:Button = new Button();		var button3:Button = new Button();		var button4:Button = new Button();				public function QuizViewController(quizCont:QuizController, cvman:CVManager) {			this.quizController = quizCont;			this.cv_man = cvman;						initialize();		}		//the button clicked function		function buttonClicked1(e : MouseEvent) : void {			trace("clicked 1");			quizController.answerButtonClicked(1);		}				function buttonClicked2(e : MouseEvent) : void{			quizController.answerButtonClicked(2);		}				function buttonClicked3(e : MouseEvent) : void{			quizController.answerButtonClicked(3);		}				function buttonClicked4(e : MouseEvent) : void{			quizController.answerButtonClicked(4);		}				public function initialize():void {			//Sets questionText/buttons initially.			updateView();						//Set x/y coordinates			switchButtonPositions();						button1.setCVManager(cv_man);			button1.enable(CVEvent.SHELL);			button2.setCVManager(cv_man);			button2.enable(CVEvent.SHELL);			button3.setCVManager(cv_man);			button3.enable(CVEvent.SHELL);						button4.setCVManager(cv_man);			button4.enable(CVEvent.SHELL);						//Add click listeners			button1.addEventListener(MouseEvent.CLICK, buttonClicked1);			button2.addEventListener(MouseEvent.CLICK, buttonClicked2);			button3.addEventListener(MouseEvent.CLICK, buttonClicked3);			button4.addEventListener(MouseEvent.CLICK, buttonClicked4);						//Add to stage			addChild(button1);			addChild(button2);			addChild(button3);			addChild(button4);		}				//Gets rid of stuff for when we're done.		public function removeButtons():void {			removeEventListener(MouseEvent.CLICK, buttonClicked1);			removeEventListener(MouseEvent.CLICK, buttonClicked2);			removeEventListener(MouseEvent.CLICK, buttonClicked3);			removeEventListener(MouseEvent.CLICK, buttonClicked4);						removeChild(button1);			removeChild(button2);			removeChild(button3);			removeChild(button4);		}				//Remembers where the buttons are located currently.		private var buttonLoc:Boolean = false;				//An array of the first locations for the buttons, multidimensional (x, y)		private var buttonLocConfig1:Array = new Array( new Array(-369.95, -184.5), new Array(100.5, -184.5), 												        new Array(-369.95, 79), new Array(100.5, 79) );		private var buttonLocConfig2:Array = new Array( new Array(-369.95, -312.5), new Array(100.5, -312.5),														new Array(-369.95, 207), new Array(100.5, 207) );				//Responsible for switching the places of the buttons every question.		private function switchButtonPositions():void {//			if (buttonLoc == true){				button1.x = buttonLocConfig1[0][0];				button1.y = buttonLocConfig1[0][1];								button2.x = buttonLocConfig1[1][0];				button2.y = buttonLocConfig1[1][1];								button3.x = buttonLocConfig1[2][0];				button3.y = buttonLocConfig1[2][1];								button4.x = buttonLocConfig1[3][0];				button4.y = buttonLocConfig1[3][1];								buttonLoc = false;//			}/*			else {				//Switch to config1				button1.x = buttonLocConfig2[0][0];				button1.y = buttonLocConfig2[0][1];								button2.x = buttonLocConfig2[1][0];				button2.y = buttonLocConfig2[1][1];								button3.x = buttonLocConfig2[2][0];				button3.y = buttonLocConfig2[2][1];								button4.x = buttonLocConfig2[3][0];				button4.y = buttonLocConfig2[3][1];								buttonLoc = true;			}*/		}				//Updates...everything, I suppose.		public function updateView():void {						//Sets questionText			questionText.text = quizController.getQuestionText();						//Switch button locations			//switchButtonPositions();						//Sets up all buttions			var doc:DisplayObjectContainer = button1.upState as DisplayObjectContainer;			var tf:TextField = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(0);			tf.autoSize = "center";						doc = button1.downState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(0);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button1.overState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(0);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button2.upState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(1);			tf.autoSize = "center";						doc = button2.downState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(1);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button2.overState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(1);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";			doc = button3.upState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(2);			tf.autoSize = "center";						doc = button3.downState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(2);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button3.overState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(2);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button4.upState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(3);			tf.autoSize = "center";						doc = button4.downState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(3);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";						doc = button4.overState as DisplayObjectContainer;			tf = doc.getChildAt(1) as TextField;			tf.text = quizController.getButtonText(3);			tf.textColor = 0xAAAAAA;			tf.autoSize = "center";		}	}	}